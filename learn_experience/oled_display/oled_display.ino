#include <Arduino.h>
#include <Adafruit_GFX.h>
#include <SPI.h>
#include <Adafruit_SSD1306.h>
// put function declarations here:
int myFunction(int, int);

//宏定义OLED屏幕的相关信息
#define WIDTH 128 //长度
#define HEIGHT 64 //宽度
#define OLED_MOSI 3 
#define SCL 5 //时钟线
#define SDA 4 //数据线

//取字模“你好，世界”
const unsigned char characters [][32] = 
{
  {0x08,0x80,0x08,0x80,0x08,0x80,0x11,0xFE,0x11,0x02,0x32,0x04,0x34,0x20,0x50,0x20,
  0x91,0x28,0x11,0x24,0x12,0x24,0x12,0x22,0x14,0x22,0x10,0x20,0x10,0xA0,0x10,0x40},/*"你",0*/
  
  {0x10,0x00,0x10,0xFC,0x10,0x04,0x10,0x08,0xFC,0x10,0x24,0x20,0x24,0x20,0x25,0xFE,
  0x24,0x20,0x48,0x20,0x28,0x20,0x10,0x20,0x28,0x20,0x44,0x20,0x84,0xA0,0x00,0x40},/*"好",1*/
  
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x00,0x30,0x00,0x10,0x00,0x20,0x00,0x00,0x00},/*"，",2*/
  
  {0x02,0x20,0x12,0x20,0x12,0x20,0x12,0x20,0x12,0x20,0xFF,0xFE,0x12,0x20,0x12,0x20,
  0x12,0x20,0x12,0x20,0x13,0xE0,0x10,0x00,0x10,0x00,0x10,0x00,0x1F,0xFC,0x00,0x00},/*"世",3*/
  
  {0x00,0x00,0x1F,0xF0,0x11,0x10,0x11,0x10,0x1F,0xF0,0x11,0x10,0x11,0x10,0x1F,0xF0,
  0x02,0x80,0x0C,0x60,0x34,0x58,0xC4,0x46,0x04,0x40,0x08,0x40,0x08,0x40,0x10,0x40},/*"界",4*/
};

//取图片模（一只手绘的小猪）
const unsigned char pig[] = 
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x13,0x00,0x00,0x00,0x00,0x38,0x00,
  0x00,0x11,0x80,0x00,0x00,0x00,0x68,0x00,0x00,0x10,0x80,0x00,0x00,0x00,0xC8,0x00,
  0x00,0x10,0xC0,0x00,0x00,0x00,0x88,0x00,0x00,0x10,0x70,0x01,0xFF,0x81,0x08,0x00,
  0x00,0x10,0x0F,0xFF,0x00,0xF3,0x08,0x00,0x00,0x10,0x38,0x00,0x00,0x1E,0x08,0x00,
  0x00,0x10,0x60,0x00,0x00,0x06,0x08,0x00,0x00,0x10,0xC0,0x00,0x00,0x03,0x10,0x00,
  0x00,0x11,0x80,0x00,0x00,0x01,0x90,0x00,0x00,0x13,0x00,0x00,0x00,0x00,0xD0,0x00,
  0x00,0x1E,0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x07,0x80,0x00,0x00,0x00,0x30,0x00,
  0x00,0x04,0xC0,0x00,0x00,0x00,0x10,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x10,0x00,
  0x00,0x04,0x01,0xE0,0x00,0xE0,0x10,0x00,0x00,0x04,0x01,0xC0,0x01,0xC0,0x10,0x00,
  0x00,0x06,0x01,0xC0,0x01,0xE0,0x10,0x00,0x00,0x02,0x00,0x01,0xC0,0x00,0x10,0x00,
  0x00,0x02,0x00,0x07,0x60,0x00,0x10,0x00,0x00,0x02,0x00,0x0D,0x78,0x00,0x10,0x00,
  0x00,0x02,0x30,0x09,0x48,0x26,0x10,0x00,0x00,0x01,0x1C,0x0E,0x08,0x12,0x30,0x00,
  0x00,0x01,0x2E,0x03,0xF8,0x12,0x20,0x00,0x00,0x01,0x28,0x00,0x08,0x16,0x20,0x00,
  0x00,0x01,0x00,0x00,0x00,0x00,0x60,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0xC0,0x00,
  0x00,0x01,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x01,0x80,0x00,0x00,0x03,0x00,0x00,
  0x00,0x00,0xC0,0x00,0x00,0x0E,0x00,0x00,0x00,0x00,0x70,0x00,0x01,0xF0,0x00,0x00,
  0x00,0x00,0x0F,0xC0,0x0E,0x80,0x00,0x00,0x00,0x03,0xF8,0x7F,0xB0,0x80,0x00,0x00,
  0x00,0x01,0x30,0x00,0x00,0xFC,0x00,0x00,0x00,0x01,0xA0,0x00,0x00,0x48,0x00,0x00,
  0x00,0x00,0xE0,0x00,0x00,0xC8,0x00,0x00,0x00,0x00,0x30,0x00,0x00,0xC8,0x00,0x00,
  0x00,0x00,0x10,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x08,0x00,0x01,0x80,0x00,0x00,
  0x00,0x00,0x7F,0x00,0x01,0xE0,0x00,0x00,0x00,0x00,0xC1,0x80,0x03,0x3E,0x00,0x00,
  0x00,0x00,0x80,0xE0,0x02,0x02,0x00,0x00,0x00,0x00,0x80,0x38,0x06,0x02,0x00,0x00,
  0x00,0x00,0x80,0x0F,0x84,0x02,0x00,0x00,0x00,0x00,0xE0,0x80,0x78,0x02,0x00,0x00,
  0x00,0x00,0x39,0x00,0x08,0x02,0x00,0x00,0x00,0x00,0x0F,0x00,0x0E,0x1E,0x00,0x00,
  0x00,0x00,0x00,0x00,0x03,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"未命名文件",0*/
};

//定义OLED屏幕
TwoWire i2c = TwoWire(0);
Adafruit_SSD1306 oled = Adafruit_SSD1306(128, 64, &i2c);

//初始化OLED屏幕
void Init_OLED()
{
  i2c.begin(SDA, SCL, 400000);
  oled.begin(SSD1306_SWITCHCAPVCC, 0x3c);
  oled.setTextSize(1);
  oled.setTextColor(INVERSE);
}


void setup() {
  Init_OLED();// initialize digital pin LED_BUILTIN as an output.
  oled.clearDisplay();  //清楚当前显示区（实验所用OLED屏幕点亮后存在启动页面）
  oled.print("hello world!\n"); //打印字符
  oled.print("Thanks for your love, my dear parents!");
  oled.display(); //在OLED屏幕显示打印内容
  delay(2000);
  oled.clearDisplay();  //清空显示
  oled.setCursor(0, 0); //设置字符显示的起始位置（之前实验发现，如果未设置字符显示起始位置，会从之前print函数显示的字符末尾开始显示）
  oled.print("nihao, shijie\n");
  oled.display();
  delay(2000);
  oled.clearDisplay();
  oled.drawBitmap(20, 20, characters[0], 16, 16, 1);  //打印字模，参数含义oled.drawBitmap(int x坐标, int y坐标,char* 字模, int 字模长度, int 字模高度, int)
  oled.drawBitmap(40, 20, characters[1], 16, 16, 1);
  oled.drawBitmap(60, 20, characters[2], 16, 16, 1);
  oled.drawBitmap(80, 20, characters[3], 16, 16, 1);
  oled.drawBitmap(100, 20, characters[4], 16, 16, 1);
  oled.display();
  delay(2000);
  oled.clearDisplay();
  oled.drawBitmap(32, 0, pig, 64, 64, 1); //打印图片模
  oled.display();

}

// the loop function runs over and over again forever
void loop() {
  
}
